cmake_minimum_required (VERSION 2.8.8)
project (killerbeez)

if (WIN32)
SET( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/../build/${CMAKE_C_COMPILER_ARCHITECTURE_ID}/${CMAKE_BUILD_TYPE}/killerbeez/ )
SET( CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/../build/${CMAKE_C_COMPILER_ARCHITECTURE_ID}/${CMAKE_BUILD_TYPE}/killerbeez/ )
SET( CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/../build/${CMAKE_C_COMPILER_ARCHITECTURE_ID}/${CMAKE_BUILD_TYPE}/killerbeez/ )
LINK_DIRECTORIES(${CMAKE_SOURCE_DIR}/../build/${CMAKE_C_COMPILER_ARCHITECTURE_ID}/${CMAKE_BUILD_TYPE}/killerbeez/)
add_definitions(-D_CRT_SECURE_NO_WARNINGS -D_DEPRECATION_DISABLE -D_CRT_NONSTDC_NO_DEPRECATE)
else (WIN32)
SET( CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/../build/killerbeez/ )
SET( CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/../build/killerbeez/ )
SET( CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_SOURCE_DIR}/../build/killerbeez/ )
LINK_DIRECTORIES(${CMAKE_SOURCE_DIR}/../build/killerbeez/)
endif (WIN32)

include_directories (${CMAKE_SOURCE_DIR}/../utils/jansson/)
include_directories (${CMAKE_SOURCE_DIR}/../utils/utils/)

add_subdirectory(driver)
add_subdirectory(fuzzer)
add_subdirectory(instrumentation)
add_subdirectory(merger)
add_subdirectory(picker)
add_subdirectory(tracer)
add_subdirectory(winafl)
